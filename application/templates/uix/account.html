{% extends "uix/layout/base.html" %}

{% block area %}
<div class="main-container">
    <section class="bg-white space-sm pb-4">
      <div class="container">
        <div class="row justify-content-between align-items-center">
          <div class="col-auto">
            <h1 class="h2">Account Settings</h1>
          </div>
          <!--end of col-->
        </div>
        <!--end of row-->
      </div>
      <!--end of container-->
    </section>
    <!--end of section-->
    <section class="flush-with-above space-0">
      <div class="bg-white">
        <div class="container">
          <div class="row">
            <div class="col">
              <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                  <a class="{{ "nav-link active" if active_tab == "account" else "nav-link" }}" id="overview-tab" data-toggle="tab" href="#account" role="tab" aria-selected="{{ "true" if active_tab == "account" else "false" }}">Account</a>
                </li>
                {% if not current_user.admin and payments_enabled %}
                <li class="nav-item">
                  <a class="{{ "nav-link active" if active_tab == "billing" else "nav-link" }}" id="billing-tab" data-toggle="tab" href="#billing" role="tab" aria-selected="{{ "true" if active_tab == "billing" else "false" }}">Billing</a>
                </li>
                {% endif %}
              </ul>
            </div>
            <!--end of col-->
          </div>
          <!--end of row-->
        </div>
        <!--end of container-->
      </div>
    </section>

    

    <section class="flush-with-above height-80 d-block">
      <div class="tab-content">
        <div class="{{ "tab-pane fade show active" if active_tab == "account" else "tab-pane fade" }}" id="account" role="tabpanel">
          <div class="container">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Account Details</h5>
                {% include 'uix/account_details_form.html' %}  
              </div>
            </div>
          </div>
          <div class="container">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Password</h5>
                {% include 'uix/account_update_pass_form.html' %}  
              </div>
            </div>
          </div>
        </div>
        <!--end of tab pane-->
        {% if not current_user.admin and payments_enabled %}
        <div class="{{ "tab-pane fade show active" if active_tab == "billing" else "tab-pane fade" }}" id="billing" role="tabpanel">
            {% if current_user.subscribed %}
              {% include 'uix/portal.html' %}           
            {% else %}
              {% include 'uix/billing.html' %}
            {% endif %}
        </div>
        {% endif %}
        <!--end of tab pane-->
      </div>
      <!--end of tabs content-->
    </section>
</div>
{% endblock %}

{% block scripts %}

{{super()}}

<!-- Required script for password strength -->
<script type="text/javascript" src="{{ url_for('static', filename='uix/assets/js/strength.js') }}"></script>
{% endblock %}

